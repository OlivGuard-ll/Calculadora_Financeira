<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OlivGuard - Simulador</title>
</head>

<body>
    <h1>OlivGuard Simulator</h1><br><br>

    Quantos <b>Hectares</b> sua planta√ß√£o de oliva possui?<br>
    <input type="text" id="input_qtdHectares" placeholder="Digite a quantidade"><br><br>

    Qual sua <b>Meta de Produ√ß√£o</b> para esse ano?<br>
    <input type="text" id="input_metaProd" placeholder="Digite a meta"> <b>(Toneladas)</b><br><br>

    Qual o <b>Valor da Tonelada</b> do seu produto?<br>
    <input type="text" id="input_valorKg" placeholder="Digite o valor da Tonelada"> <b>(R$)</b><br><br>

    Qual a <b>Porcentagem de Perda</b> da sua planta√ß√£o?<br>
    <input type="text" id="input_perda" placeholder="Digite a porcentagem"> <b>(%)</b><br><br>

    <button onclick="calcular()">Calcular Produ√ß√£o</button><br><br>

    <div id="res"></div><br>
    <div id="res2"></div><br>
    <div id="res3"></div><br>
</body>

</html>

<script>
    function calcular() {
        var hectares = Number(input_qtdHectares.value);
        var producaoToneladas = Number(input_metaProd.value);
        var precoTonelada = Number(input_valorKg.value);
        var perda = Number(input_perda.value);

        var perdaDecimal = perda / 100;

        // SEM PROJETO
        var producaoFinal = producaoToneladas * (1 - perdaDecimal);
        var ganhoSemProjeto = producaoFinal * precoTonelada;
        var producaoFinalHectares = (producaoToneladas / hectares) * (1 - perdaDecimal);

        // COM PROJETO
        var producaoFinalProjeto = producaoToneladas * (1 - perdaDecimal / 2);
        var ganhoComProjeto = producaoFinalProjeto * precoTonelada;
        var producaoFinalProjetoHectares = (producaoToneladas / hectares) * (1 - perdaDecimal / 2);

        var classificacaoSemProjeto = '';
        if (producaoFinalHectares < 3) {
            classificacaoSemProjeto = 'Baixo Rendimento';
        } else if (producaoFinalHectares >= 3 && producaoFinalHectares < 6) {
            classificacaoSemProjeto = 'Rendimento M√©dio';
        } else if (producaoFinalHectares >= 6 && producaoFinalHectares < 10) {
            classificacaoSemProjeto = 'Bom Rendimento';
        } else {
            classificacaoSemProjeto = 'Excelente Rendimento';
        }

        var classificacao = '';
        if (producaoFinalProjetoHectares < 3) {
            classificacao = 'Baixo Rendimento';
        } else if (producaoFinalProjetoHectares >= 3 && producaoFinalProjetoHectares < 6) {
            classificacao = 'Rendimento M√©dio';
        } else if (producaoFinalProjetoHectares >= 6 && producaoFinalProjetoHectares < 10) {
            classificacao = 'Bom Rendimento';
        } else {
            classificacao = 'Excelente Rendimento';
        }

        res.innerHTML = `
    <table border="1" cellpadding="10" cellspacing="0" style="border-collapse: collapse; width: 100%; text-align: center;">
        <thead style="background-color: #f2f2f2;">
            <tr>
                <th>Indicador</th>
                <th>Sem OlivGuard</th>
                <th>Com OlivGuard</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>Produ√ß√£o Final</strong></td>
                <td>${producaoFinal.toFixed(2)} t</td>
                <td>${producaoFinalProjeto.toFixed(2)} t</td>
            </tr>
            <tr>
                <td><strong>Ganho Estimado</strong></td>
                <td>${ganhoSemProjeto.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })}</td>
                <td>${ganhoComProjeto.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })}</td>
            </tr>
            <tr>
                <td><strong>Produ√ß√£o por Hectare</strong></td>
                <td>${producaoFinalHectares.toFixed(2)} t/ha</td>
                <td>${producaoFinalProjetoHectares.toFixed(2)} t/ha</td>
            </tr>
            <tr>
                <td><strong>Perda da Produ√ß√£o</strong></td>
                <td>${perda}%</td>
                <td>${(perda / 2)}%</td>
            </tr>
            <tr>
                <td><strong>Classifica√ß√£o</strong></td>
                <td>${classificacaoSemProjeto}</td>
                <td>${classificacao}</td>
            </tr>
        </tbody>
    </table>
`;

        // res.innerHTML = `
        //     <b>Resultados:</b><br><br>
        //     <b>üìå Sem Projeto:</b><br>
        // ‚û§ Produ√ß√£o Final: <b>${producaoFinal.toFixed(2)} toneladas</b><br>
        // ‚û§ Ganho Estimado: <b>${ganhoSemProjeto.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })}</b><br>
        // ‚û§ Produ√ß√£o por Hectare: <b>${producaoFinalHectares.toFixed(2)} t/ha</b><br>
        // ‚û§ Classifica√ß√£o: <b>${classificacaoSemProjeto}</b><br><br>

        // <b>‚úÖ Com OlivGuard:</b><br>
        // ‚û§ Produ√ß√£o Final: <b>${producaoFinalProjeto.toFixed(2)} toneladas</b><br>
        // ‚û§ Ganho Estimado: <b>${ganhoComProjeto.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })}</b><br>
        // ‚û§ Produ√ß√£o por Hectare: <b>${producaoFinalProjetoHectares.toFixed(2)} t/ha</b><br>
        // ‚û§ Classifica√ß√£o: <b>${classificacao}</b>
        // `;

        res2.innerHTML = `
            <b>Classifica√ß√£o Qualitativa:</b><br>
            Baixo Rendimento: Menos de 3 t/ha<br>
            Rendimento M√©dio: Entre 3 e 6 t/ha<br>
            Bom Rendimento: Entre 6 e 10 t/ha<br>
            Excelente Rendimento: Acima de 10 t/ha 

            <br><br>
        `;

        res3.innerHTML = `<b> Como a nossa tecnologia pode ajudar sua planta√ß√£o? </b> <br>
        Sua planta√ß√£o de oliveiras possui um potencial produtivo de <strong> ${producaoToneladas} </strong> toneladas ao ano. <br> No entanto, sem a utiliza√ß√£o de tecnologias de monitoramento, estima-se que <strong> ${perda}% </strong> dessa produ√ß√£o seja perdida, resultando em uma colheita de apenas <strong> ${producaoFinal} </strong> toneladas. <br> Esse volume gera um retorno financeiro de <strong> ${ganhoSemProjeto.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })}</strong>, com uma produtividade m√©dia de <strong> ${producaoFinalHectares} </strong> toneladas por hectare, classificada como <strong> ${classificacaoSemProjeto} </strong>.

        <br><br>

        A partir da aplica√ß√£o do OlivGuard, sistema que utiliza sensores para monitorar a umidade do solo, conseguimos reduzir significativamente as perdas para <strong> ${perda / 2}% </strong>. <br> Isso fez com que a produ√ß√£o final saltasse para <strong> ${producaoFinalProjeto} </strong> toneladas, aumentando o ganho bruto para <strong> ${ganhoComProjeto.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })}</strong>. <br> A produtividade por hectare tamb√©m subiu para <strong> ${producaoFinalProjetoHectares} </strong> toneladas, classificada como <strong> ${classificacao}</strong>.
        `;
    }
</script>